# План автоматизации тестирования

## Перечень автоматизируемых сценариев:

### UI тесты
___
#### Тестирование формы оплата по карте
1. **Карта со статусом APPROVED, все поля формы покупки валидные**
* Нажать на кнопку "Купить"
* В появившихся полях ввести валидные данные: номер карты 4444 4444 4444 4441
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

2. **Карта со статусом DECLINED, все поля формы покупки валидные**
* Нажать на кнопку "Купить"
* В появившихся полях ввести валидные данные: номер карты 4444 4444 4444 4442
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы выполнена успешно, всплывающее сообщение "Ошибка! Банк отказал в проведении операции!"

3. **Отправка пустой формы оплаты**
* Нажать на кнопку "Купить"
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, во всех полях предупреждение "Поле обязательно для заполнения"

4. **Поле "Номер карты" пустое, все остальные поля формы покупки валидные**
* Нажать на кнопку "Купить"
* Оставить поле "Номер карты" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

5. **Поле "Номер карты" из 1й цифры**
* Нажать на кнопку "Купить"
* Заполнить поле "Номер карты" невалидным граничным номером карты из 1ой цифры (например, 4), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

6. **Поле "Номер карты" из 15-ти цифр**
* Нажать на кнопку "Купить"
* Заполнить поле "Номер карты" невалидным граничным номером карты из 15-ти цифр (например, 4444 4444 4444 444), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

7. **Данные карты, которой нет в базе данных**
* Нажать на кнопку "Купить"
* Заполнить поле "Номер карты" валидным номером карты, которой нет в БД банка (например, 1234 0000 1234 0000), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"
  **Ожидаемый результат:** отправка формы возможна, всплывающее сообщение "Ошибка! Банк отказал в проведении операции"

8. **Поле "Месяц" пустое**
* Нажать на кнопку "Купить"
* Оставить поле "Месяц" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Месяц"

9. **Поле "Месяц" c заполнением поля одной цифрой**
* Нажать на кнопку "Купить"
* Заполнить поле "Месяц" невалидным значением из одной цифры (например: 3), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Месяц"

10. **Поле "Месяц" со значением предыдущий от текущего**
* Нажать на кнопку "Купить"
* Заполнить поле "Месяц" невалидным значением меньше текущего, остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

11. **Поле "Месяц" со значением 00**
* Нажать на кнопку "Купить"
* Заполнить поле "Месяц" невалидным значением меньше 1 (например: 00), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

12. **Поле "Месяц" со значением 13**
* Нажать на кнопку "Купить"
* Заполнить поле "Месяц" невалидным значением больше 12 (например: 13), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

13. **Поле "Год" пустое**
* Нажать на кнопку "Купить"
* Поле "Год" оставить пустым, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение «Поле обязательно для заполнения» под полем "Год"

14. **Поле "Год" со значением, предшествующее текущему**
* Нажать на кнопку "Купить"
* Заполнить поле "Год" граничными невалидными данными года, предшествующего текущему (например: 21), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Истек срок действия карты" под полем "Год"

* 15. **Поле "Год" со значением, превышающим 6 лет от текущего**
* Нажать на кнопку "Купить"
* Заполнить поле "Год" значением, превышающим 6 лет от текущего (например: 29), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Год"

16. **Поле "Владелец" пустое**
* Нажать на кнопку "Купить"
* Поле "Владелец" оставить пустым, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Владелец"

17. **Поле "Владелец" спецсимволами**
* Нажать на кнопку "Купить"
* Ввести в поле "Владелец" спецсимволы, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

18. **Поле "Владелец" цифрами**
* Нажать на кнопку "Купить"
* Ввести в поле "Владелец" цифры, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

19. **Поле "Владелец" фамилия и имя на кирилице**
* Нажать на кнопку "Купить"
* Ввести в поле "Владелец" фамилию и имя на кириллице (например: Петров Михаил), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"   
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

20. **Поле "Владелец" фамилия на латинице, имя отсуствует**
* Нажать на кнопку "Купить"
* Ввести в поле "Владелец" только фамилию на латинице (например: Izotova), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

21. **Поле "CVC/CVV" пустое**
* Нажать на кнопку "Купить"
* Оставить поле "CVC/CVV" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "CVC/CVV"

22. **Поле "CVC/CVV" c одной цифрой**
* Нажать на кнопку "Купить"
* Ввести в поле "CVC/CVV" одну цифру (например: 3), все остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"

23. **Поле "CVC/CVV" c двумя цифрами**
* Нажать на кнопку "Купить"
* Ввести в поле "CVC/CVV" две цифры (например: 33), все остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"


#### Тестирование формы оплаты в кредит
26. **Карта со статусом APPROVED, все поля формы покупки валидные**
* Нажать на кнопку "Купить в кредит"
* В появившихся полях ввести валидные данные: номер карты 4444 4444 4444 4441
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

27. **Карта со статусом DECLINED, все поля формы покупки валидные**
* Нажать на кнопку "Купить в кредит"
* В появившихся полях ввести валидные данные: номер карты 4444 4444 4444 4442
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы выполнена успешно, всплывающее сообщение "Ошибка! Банк отказал в проведении операции!"

28. **Отправка пустой формы оплаты**
* Нажать на кнопку "Купить в кредит"
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, во всех полях предупреждение "Поле обязательно для заполнения"

29. **Поле "Номер карты" пустое, все остальные поля формы покупки валидные**
* Нажать на кнопку "Купить в кредит"
* Оставить поле "Номер карты" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

30. **Поле "Номер карты" из 1й цифры**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Номер карты" невалидным граничным номером карты из 1ой цифры (например, 4), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

31. **Поле "Номер карты" из 15-ти цифр**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Номер карты" невалидным граничным номером карты из 15-ти цифр (например, 4444 4444 4444 444), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

32. **Данные карты, которой нет в базе данных**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Номер карты" валидным номером карты, которой нет в БД банка (например, 1234 5678 1234 5678), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"
  **Ожидаемый результат:** отправка формы возможна, всплывающее сообщение "Ошибка! Банк отказал в проведении операции"

30.  **Поле "Месяц" пустое**
* Нажать на кнопку "Купить в кредит"
* Оставить поле "Месяц" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Месяц"

31. **Поле "Месяц" c заполнением поля одной цифрой**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Месяц" невалидным значением из одной цифры (например: 3), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Месяц"

32. **Поле "Месяц" со значением предыдущий от текущего**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Месяц" невалидным значением меньше текущего, остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

33. **Поле "Месяц" со значением 00**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Месяц" невалидным значением меньше 1 (например: 00), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

34. **Поле "Месяц" со значением 13**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Месяц" невалидным значением больше 12 (например: 13), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

35. **Поле "Год" пустое**
* Нажать на кнопку "Купить в кредит"
* Поле "Год" оставить пустым, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение «Поле обязательно для заполнения» под полем "Год"

36. **Поле "Год" со значением 1**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Год" невалидными данными с неверным форматом года (например: 1), остальные поля - валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Год"

37. **Поле "Год" со значением, предшествующее текущему**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Год" граничными невалидными данными года, предшествующего текущему (например: 21), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Истек срок действия карты" под полем "Год"

38. **Поле "Год" со значением, превышающим 6 лет от текущего**
* Нажать на кнопку "Купить в кредит"
* Заполнить поле "Год" значением, превышающим 6 лет от текущего (например: 29), остальные поля – валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Год"

39. **Поле "Владелец" пустое**
* Нажать на кнопку "Купить в кредит"
* Поле "Владелец" оставить пустым, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Владелец"

40. **Поле "Владелец" фамилия на латинице, имя отсуствует**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "Владелец" только фамилию на латинице (например: Izotova), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

41. **Поле "Владелец" фамилия и имя на кирилице**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "Владелец" фамилию и имя на кириллице (например: Петров Михаил), остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"   
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

42. **Поле "Владелец" цифрами**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "Владелец" цифры, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

43. **Поле "Владелец" спецсимволами**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "Владелец" спецсимволы, остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

44. **Поле "CVC/CVV" пустое**
* Нажать на кнопку "Купить в кредит"
* Оставить поле "CVC/CVV" пустым, все остальные заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "CVC/CVV"

45. **Поле "CVC/CVV" c одной цифрой**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "CVC/CVV" одну цифру (например: 3), все остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"

46. **Поле "CVC/CVV" c двумя цифрами**
* Нажать на кнопку "Купить в кредит"
* Ввести в поле "CVC/CVV" две цифры (например: 33), все остальные поля заполнить валидными данными
* Нажать на кнопку "Продолжить"  
  **Ожидаемый результат:** отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"


### API-тесты
___
1. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/payment   
   **Ожидаемый результат:** ответ сервера: код 200

2. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/payment  
   **Ожидаемый результат:** ответ сервера: код 200

3. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/credit  
   **Ожидаемый результат:** ответ сервера: код 200

4. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/credit  
   **Ожидаемый результат:** ответ сервера: код 200


## Перечень используемых инструментов с обоснованием выбора
___
* **Язык программирования Java** - высокоуровневый язык программирования, который имеет ряд преимуществ:
    * простота
    * платформонезависимость
    * безопасность
    * объектно-ориентированный подход
    * большая экосистема с множеством библиотек и инструментов
  

* **IntelliJ IDEA Community Edition** - интегрированная среда разработки, мощная и удобная для Java разработки с поддержкой всех последних технологий и фреймворков.


* **Gradle** - система для сборки проекта, для управления подключенными зависимостями. Он прост в использовании благодаря тому, что билд скрипты короче и чище чем у Ant и Maven.


* **JUnit 5** - библиотека для написания и запуска тестов. Не требует контроля пользователя во время исполнения тестов, может запускать одновременно несколько тестов, сообщает обо всех ошибках в ходе тестирования, предоставляет готовый набор методов для сравнения ожидаемого и фактического результатов.


* Фреймворк **Selenide** - преимущества:
    * Встроенное неявное ожидание
    * Автоматически закрытие браузера после запуска варианта использования
    * Код прост и удобен для чтения
    * Автоматически создаются скриншоты неудачных тестов
  

* **Faker** - библиотека которую можно использовать для создания широкого спектра реально выглядящих тестовых данных от адресов до телефонных номеров.


* **Lombok** - позволяет оптимизировать код авто-тестов,  оптимизирует время на разработку и обеспечивает некоторую дополнительную функциональность.


* **MySQL** - библиотека для работы с БД


* **Postgres** - библиотека для работы с БД


* **Docker** - ПО которое дает возможность на определенном участке памяти изолированно установить необходимую ОС (операционную систему), версию Java, настроить переменные окружения, установить различные зависимости и дать доступ только при определенных условиях (также это инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД).


* **Git** - инструмент, позволяющий реализовать распределённую систему контроля версий. Позволяет откатываться к определенной точке в разработке, логировать изменения в проекте, возможность командной работы.


* **GitHub** - платформа для совместной разработки, преимущества:
    - публичные репозитории, комментарии и ветвление
    - хранение истории изменений, возможность вернуться к любой предыдущей версии проекта
    - интеграция с другими инструментами, такими как баг-трекеры, системы контроля версий и другие средства разработки.


* **Allure** - фреймворк для создания отчетов о тестировании, для наглядного отображения прохождения тестов и ошибок.


## Перечень и описание возможных рисков при автоматизации
___
* Неоправданно большие затраты ресурсов на автоматизацию
* Сложность корректной настройки запуска симулятора карт
* Если будет изменен интерфейс/добавлены новые формы оплаты, придется переписывть тесты
* Отсутствие уникальных идентификаторов элементов на странице. В ходе выполнения проекта может измениться структура/интерфейс сайта и селекторы придётся уточнять
* Риск нестабильной работы одновременно двух БД или при запуске SUT

## Интервальная оценка с учётом рисков в часах:
___

* Планирование автоматизации тестирования: 16 часов
* Автоматизация: 40 часов
* Написание баг-репортов: 8 часов
* Подготовка отчётных документов по итогам автоматизированного тестирования: 8 часов
* Подготовка отчётных документов по итогам автоматизации: 8 часов

Итого планируемое время на работу: 80 часов

## План сдачи работ
___
1. Подготовка плана автоматизации: 4.09.2023-5.09.2023.
2. Разработка автотестов: 6.09.2023-13.09.2023.
3. Баг-репорты и отчет по результатам теста: 14.09.2023.
4. Отчет по результатам автоматизированного тестирования: 15.09.2023. 
